<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - SFCoreProTM</title>
    @* Bootstrap CSS *@
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    @* Font Awesome *@
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    @* CSS Kustom Anda *@
    <link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />
    @await RenderSectionAsync("Styles", required: false)

    <style>
        /* Ganti warna primary Bootstrap */
        .btn-primary, .nav-pills .nav-link.active, .nav-pills .show > .nav-link {
            background-color: #1d4ed8;
            border-color: #1d4ed8;
        }
        .nav-link:hover {
            background-color: rgba(15, 23, 42, 0.04);
        }
        body {
            /* Hapus d-flex dari body */
            background-color: #f8fafc;
            margin: 0;
            display: flex; /* Tambahkan lagi flex untuk struktur baru */
            flex-direction: column; /* Atur body jadi kolom: Header di atas, konten+sidebar di bawah */
            min-height: 100vh;
        }
        .main-wrapper {
            display: flex; /* Sidebar dan Konten Utama bersebelahan */
            flex-grow: 1; /* Ambil sisa tinggi setelah header */
            overflow: hidden; /* Cegah body scroll, biarkan main content yg scroll */
        }
        main {
            flex-grow: 1; /* Konten utama mengambil sisa lebar setelah sidebar */
            overflow-y: auto; /* Scroll konten utama jika perlu */
            padding: 1.5rem; /* Tambahkan padding di sini */
        }
        /* Style sidebar agar tidak scroll */
        aside {
            overflow-y: auto; /* Sidebar bisa scroll jika kontennya panjang */
            height: calc(100vh - (/* Tinggi header Anda */ 90px)); /* Sesuaikan tinggi header */
            position: sticky; /* Opsi: buat sidebar sticky */
            top: 90px; /* Sesuaikan tinggi header */
            width: 320px; /* Tetapkan lebar tetap untuk sidebar */
            flex-shrink: 0; /* Cegah sidebar menyusut */
        }
        /* Pastikan header tidak punya margin bawah yg aneh */
        nav.navbar {
            margin-bottom: 0 !important;
        }
        /* Custom styles */
        .letter-spacing-1 { letter-spacing: 0.08em; }
    </style>
</head>
<body> @* Hapus class d-flex dari sini *@

    @* 1. Panggil Header Partial View DI ATAS wrapper utama *@
    <partial name="_Header" />

    @* 2. Buat wrapper baru untuk Sidebar dan Konten Utama *@
    <div class="main-wrapper">

        @* 3. Sidebar Partial View di dalam wrapper *@
        <partial name="_Sidebar" />

        @* 4. Main Content Area di dalam wrapper *@
        <main role="main"> @* Hapus class p-4 dari sini *@
            @RenderBody()
        </main>

    </div>

    @* Footer (jika perlu, sekarang di luar .main-wrapper) *@
    @* <footer class="border-top footer text-muted mt-auto bg-light"> ... </footer> *@

    @* Bootstrap JS Bundle *@
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    @* JS Kustom Anda *@
    <script src="~/js/site.js" asp-append-version="true"></script>

    @await RenderSectionAsync("Scripts", required: false)
</body>
</html>